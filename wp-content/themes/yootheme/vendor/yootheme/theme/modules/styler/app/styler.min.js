webpackJsonp([1],{124:function(e,t,n){function s(e){return e&&e.length?i(e):[]}var i=n(312);e.exports=s},125:function(e,t,n){function s(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(78);e.exports=s},126:function(e,t){function n(e,t,n){for(var s=-1,i=null==e?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}e.exports=n},129:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return((0,h.default)(t)?[t]:t).findIndex(function(t){return e===t||e.match("^"+t.replace(/\*/g,".*")+"$")})+1}function r(e,t){return(0,v.default)((0,l.default)((0,c.default)(e,function(e,n){var s=e.component;s=("variables"===s?"global":s).replace(/-/g," ");var r,o=(0,y.default)(t[s],function(e){var t=e.group;return r=i(n,t)}),u=g.findIndex(function(e){return n.match(new RegExp("-"+e+"-"))});return{name:n,component:s,index:o,group:-1!==o?t[s][o]:{},state:u,notGlobal:"global"!==s,notTheme:"theme"!==s,isInternal:(0,a.default)(n,"@internal-")}}),["notGlobal","notTheme","component","isInternal","index","order","state","name"]),"component")}Object.defineProperty(t,"__esModule",{value:!0}),t.states=void 0;var o=n(130),a=s(o),u=n(79),l=s(u),f=n(25),c=s(f),d=n(62),h=s(d),p=n(81),v=s(p),m=n(133),y=s(m);t.match=i,t.groupVars=r;var g=t.states=["hover","focus","onclick","active","checked","disabled"]},130:function(e,t,n){function s(e,t,n){return e=a(e),n=null==n?0:i(o(n),0,e.length),t=r(t),e.slice(n,n+t.length)==t}var i=n(131),r=n(53),o=n(54),a=n(52);e.exports=s},131:function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},133:function(e,t,n){function s(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=s-1;return void 0!==n&&(l=o(n),l=n<0?a(s+l,0):u(l,s-1)),i(e,r(t,3),l,!0)}var i=n(74),r=n(11),o=n(54),a=Math.max,u=Math.min;e.exports=s},305:function(e,t,n){var s,i,r={};s=n(306),Object.keys(s).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.warn("[vue-loader] vendor/yootheme/theme/modules/styler/app/styler.vue: named exports in *.vue files are ignored."),i=n(355),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(o.template=i),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})},306:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),r=s(i),o=n(2),a=s(o),u=n(3),l=s(u),f=n(307),c=s(f),d=n(308),h=s(d),p=n(310),v=s(p),m=n(322),y=s(m),g=n(332),b=s(g),k=n(335),w=s(k),x=window.URL||window.webkitURL,_={name:"styler",props:["config","values"],data:function(){return{index:0,generalComponents:["global","theme","inverse"]}},created:function(){this.styler=this.$new("stylerModel",{data:{config:this.config,values:this.values}}),this.tests=this.$new("tests",{data:{config:this.styler.config}}),this.inspector=this.$new("inspector",{data:{config:this.styler.config}})},computed:{error:function(){return this.styler.errors.join("\n")}},ready:function(){var e=this;this.$watch("styler.errors",function(t){e.$sidebar.showSave=0===t.length,e.errorMsg&&e.errorMsg.remove(),e.errorMsg=t.length&&(0,a.default)('<p class="uk-text-danger"></p>').insertBefore("#custom_less").text("Error"+(t.length>1?"s":"")+": "+t.join("\n"))}),this.$watch("styler.updatePending",function(t){e.$preview.overlay=t,t||e.inject()})},watch:{values:function(){this.styler.values=this.values},config:function(){this.styler.config=this.config}},methods:{inject:function(){if(!1!==this.$app.active){var e=(0,r.default)(this,"$preview.window.theme-style-css"),t=this.isRtl()&&this.styler.style.rtl||this.styler.style.css;t&&e&&("STYLE"===e.tagName?(0,a.default)(e).text(t):(0,a.default)(e).replaceWith('<style id="'+e.id+'">'+t+"</style>"))}this.tests.uikit&&this.tests.run()},openComponent:function(e){this.$sidebar.openPanel("fieldsStyle",{title:e,style:this.styler.style,vars:this.styler.filteredGroups[e],types:this.styler.config.types})},openStyle:function(){this.$new("Modal",{id:"ModalStyle",container:!0}).open()},openFonts:function(){this.$sidebar.openPanel("fieldsFonts",{title:"Google Fonts"})},download:function(e){e.target.href=x.createObjectURL(new Blob([this.styler.toLessString()],{type:"text/plain"}))},isRtl:function(){var e=(0,r.default)(this,"$preview.document.documentElement");return e&&"rtl"===e.getAttribute("dir")}},events:{readyPreview:function(){this.inject()}},components:{stylerModel:w.default,inspector:h.default,ModalStyle:v.default,tests:c.default}};l.default.components.styler=_,l.default.components.fieldsStyle=y.default,l.default.components.fieldsFonts=b.default,t.default=_},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(9);t.default={name:"styler-tests",data:function(){return{uikit:!1,config:{}}},watch:{uikit:"run"},methods:{run:function(){var e=this,t=this.uikit,n=this.$preview,i=n.document,r=n.window;if(i){var o=i.documentElement,a=i.head,u="{+$theme}/vendor/yootheme/theme/modules/styler/tests/",l=function(){a.removeChild(e.css),o.replaceChild(e.body,i.body),e.$parent.inspector.update()};this.body||(this.range=i.createRange(),this.body=i.body,this.css=this.range.createContextualFragment('<link rel="stylesheet" href="'+this.$url(u+"tests.css")+'">').firstChild,r.$customizer||(r.$customizer={}),r.$customizer.base=this.$app.base),t?this.$http.get(""+u+(!0===t||"global"===t?"index":t.replace(" ","-"))+".html").then(function(t){var n=t.body;a.appendChild(e.css);var r=i.createElement("body");o.replaceChild(r,i.body),r.appendChild(e.range.createContextualFragment(n)),r.classList.add("uk-animation-fade"),(0,s.on)(r,"click",function(e){return e.target.matches('a[href="#"]')&&e.preventDefault()}),e.$parent.inspector.update()},l):l()}}},events:{openPanel:function(e,t){"fieldsStyle"===e&&this.uikit&&(this.uikit=t.title)},closePanel:function(e,t){"fieldsStyle"===t.name&&this.uikit&&(this.uikit=!0),"styler"===t.name&&this.uikit&&(this.uikit=!1)}}}},308:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),r=s(i),o=n(18),a=s(o),u=n(31),l=s(u),f=n(2),c=s(f),d=n(9);t.default={name:"styler-inspector",created:function(){this.inspect=(0,c.default)('<div class="yo-inspect"></div>')},events:{readyPreview:function(){var e,t=this;this.update(),(0,d.on)(this.$preview.document,"mousemove",function(n){var s=n.target,i=n.pageX,o=n.pageY;if("styler"!==t.$sidebar.section)return void(e&&(t.inspect.hide(),e=null));e!==s&&(e=s,t.inspect.show().text((0,l.default)((0,r.default)(t.config.inspect,function(n,s){return(0,c.default)(e).is(n)?t.$trans(s.replace(/-/g," ")):null})).join(", "))),t.inspect.css({top:o,left:i})}),(0,d.on)(this.$preview.document,"mouseleave",function(){e=null,t.inspect.hide()})}},methods:{hover:function(e,t){var n=this,s=e.target,i=(0,a.default)(this,"config.hover."+t);if(clearTimeout(this.hoverTimer),i){var r;this.hoverTimer=setTimeout(function(){return r=(0,c.default)(i,(0,a.default)(n,"$preview.document.body")).addClass("yo-hover")},50),(0,c.default)(s).one("mouseleave",function(){r&&r.removeClass("yo-hover"),clearTimeout(n.hoverTimer)})}},update:function(){(0,c.default)(this.$preview.document.body).append(this.inspect)}}}},310:function(e,t,n){var s,i,r={};s=n(311),Object.keys(s).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.warn("[vue-loader] vendor/yootheme/theme/modules/styler/app/components/modal-style.vue: named exports in *.vue files are ignored."),i=n(321),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(o.template=i),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})},311:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(124),r=s(i),o=n(127),a=s(o),u=n(31),l=s(u),f=n(128),c=s(f),d=function(){function e(e,t){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{!s&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=window.localStorage||{},p="builder.styles.filter";t.default={name:"modal-style",data:function(){return{filter:h[p]?JSON.parse(h[p]):{style:"",background:"",color:"",type:""}}},computed:{filterIsSet:function(){var e=this;return Object.keys(this.filter).some(function(t){return""!==e.filter[t]})},styles:function(){return this.$styler.styles},filtered:function(){var e=this;return(0,l.default)(this.styles,function(t){return(0,c.default)(e.filter,function(e,n){return!e||("style"===n?!0===e?!~t.id.indexOf(":"):~t.name.indexOf(e):!!t[n]&&(t[n]===e||~t[n].indexOf(e)))})})},tags:function(){return(0,r.default)((0,l.default)((0,a.default)(this.styles,function(e,t){var n=t.tags;return e.concat(n)},[])))}},watch:{filter:{handler:function(e,t){h[p]=JSON.stringify(t)},deep:!0}},methods:{resetFilters:function(){var e=this;Object.keys(this.filter).forEach(function(t){return e.filter[t]=""})},imageUrl:function(e){var t=e.id.split(":"),n=d(t,2),s=n[0],i=n[1];return"https://downloads-yootheme.storage.googleapis.com/library/"+s+"/styles/"+(i||"default")+".jpg"},getOptions:function(e){return(0,l.default)((0,r.default)("style"===e?(0,l.default)(this.styles,function(e){return!~e.id.indexOf(":")}).map(function(e){return e.name}):(0,a.default)(this.styles,function(t,n){return t.concat(n[e])},[])))},select:function(e){this.$styler.setConfig("style",this.$styler.values.style=e.id),this.$parent.close()}}}},312:function(e,t,n){function s(e,t,n){var s=-1,c=r,d=e.length,h=!0,p=[],v=p;if(n)h=!1,c=o;else if(d>=f){var m=t?null:u(e);if(m)return l(m);h=!1,c=a,v=new i}else v=t?[]:p;e:for(;++s<d;){var y=e[s],g=t?t(y):y;if(y=n||0!==y?y:0,h&&g===g){for(var b=v.length;b--;)if(v[b]===g)continue e;t&&v.push(g),p.push(y)}else c(v,g,n)||(v!==p&&v.push(g),p.push(y))}return p}var i=n(68),r=n(125),o=n(126),a=n(69),u=n(315),l=n(70),f=200;e.exports=s},313:function(e,t){function n(e){return e!==e}e.exports=n},314:function(e,t){function n(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}e.exports=n},315:function(e,t,n){var s=n(113),i=n(316),r=n(70),o=s&&1/r(new s([,-0]))[1]==1/0?function(e){return new s(e)}:i;e.exports=o},316:function(e,t){function n(){}e.exports=n},321:function(e,t){e.exports='\n\n<div>\n\n    <div class="uk-modal-header">\n        <h2 class="uk-modal-title">{{ $trans(\'Select Style\') }}</h2>\n    </div>\n\n    <div class="uk-modal-body" uk-overflow-auto>\n\n        <div class="uk-grid-small uk-child-width-auto" uk-grid>\n            <div>\n                <select class="uk-select uk-form-width-medium" v-model="filter.style">\n                    <option value="">{{ $trans(\'All styles\') }}</option>\n                    <option :value="true">{{ $trans(\'Main styles\') }}</option>\n                    <option :value="value" v-for="value in getOptions(\'style\') | orderBy (true)">{{ value }}</option>\n                </select>\n            </div>\n            <div>\n                <select class="uk-select uk-form-width-medium" v-model="filter.background">\n                    <option value="">{{ $trans(\'All backgrounds\') }}</option>\n                    <option :value="value" v-for="value in getOptions(\'background\') | orderBy (true)">{{ value }}</option>\n                </select>\n            </div>\n            <div>\n                <select class="uk-select uk-form-width-medium" v-model="filter.color">\n                    <option value="">{{ $trans(\'All colors\') }}</option>\n                    <option :value="value" v-for="value in getOptions(\'color\') | orderBy (true)">{{ value }}</option>\n                </select>\n            </div>\n            <div>\n                <select class="uk-select uk-form-width-medium" v-model="filter.type">\n                    <option value="">{{ $trans(\'All types\') }}</option>\n                    <option :value="value" v-for="value in getOptions(\'type\') | orderBy (true)">{{ value }}</option>\n                </select>\n            </div>\n             <div v-if="filterIsSet">\n                <button class="uk-button uk-button-default" v-html="$trans(\'Reset\')" @click.prevent.stop="resetFilters"></button>\n            </div>\n        </div>\n\n        <ul class="uk-grid-medium uk-grid-match uk-child-width-1-2 uk-child-width-1-3@s" uk-grid>\n            <li v-for="style in filtered">\n                <div class="uk-panel uk-box-shadow-medium uk-box-shadow-hover-large uk-transition-toggle">\n\n                    <div class="uk-background-cover uk-background-top-center uk-position-cover" v-lazy-background="imageUrl(style)" placeholder="{+$assets}/images/style-library-placeholder.png"></div>\n\n                    <canvas width="1200" height="900"></canvas>\n\n                    <div class="uk-label yo-label uk-position-top-right uk-position-small uk-transition-fade">{{ style.name }}</div>\n\n                    <a class="uk-position-cover" href="" @click.prevent="select(style)"></a>\n\n                </div>\n\n            </li>\n        </ul>\n\n    </div>\n\n</div>\n\n'},322:function(e,t,n){var s,i,r={};s=n(323),Object.keys(s).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.warn("[vue-loader] vendor/yootheme/theme/modules/styler/app/components/fields-style.vue: named exports in *.vue files are ignored."),i=n(331),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(o.template=i),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})},323:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=s(i),o=n(55),a=s(o),u=n(18),l=s(u),f=n(24),c=s(f),d=n(6),h=s(d),p=n(3),v=s(p),m=n(129);t.default={name:"style-fields",extends:v.default.component("fields"),data:function(){var e=this,t=this.config,n=t.types,s=t.vars,i=t.style;return this.config=s.map(function(e){var t,s=e.name,o=e.group;return(0,r.default)({name:s,group:o},(0,c.default)(n,function(e){return(0,m.match)(s,e.vars)}),(t="@internal-"+s.replace(/^@/,"").replace(/-background$/i,"")+"-gradient")in i.variables&&{type:"gradient",internal:t})}),this.config.map(function(t,n){return t.label=(!e.config[n-1]||e.config[n-1].group.name!==t.group.name)&&t.group.name}),(0,h.default)({less:{}},t)},watch:{"style.variables":{handler:function(){this.less=(0,a.default)(this.style.variables,"value")},immediate:!0}},methods:{getField:function(e){var t=e.name;return this.less[t]},setField:function(e,t){var n=e.name;this.less[n]!==t&&this.values.less[n]!==t&&(this.less[n]=t,v.default.set(this.values.less,n,t),this.update())},reset:function(e){v.default.delete(this.values.less,e.name),e.internal&&v.default.delete(this.values.less,e.internal),this.update()},isSet:function(e){return e.name in this.values.less||e.internal&&e.internal in this.values.less},isComputed:function(e){return this.style.variables[e.name].computed||e.internal&&(0,l.default)(this,"style.variables."+e.internal+".computed")},update:function(){this.$trigger("setField",["less",this.values.less,this.values])}},filters:{label:function(e){var t=e.name,n=e.group;return t=t.substring(1).replace(/-/g," ").replace(new RegExp("^"+this.title+" "),""),n.name&&(t=t.replace(new RegExp("^("+n.name+"|"+n.name.replace(/s$/,"")+") "),"")),t=t.replace(/(.*) (s|m|l|xl|xxl)$/i,"@$2 $1"),this.$trans(t)}}}},331:function(e,t){e.exports='\n\n<div class="yo-sidebar-fields">\n\n    <template v-for="field in fields">\n\n        <h3 class="yo-sidebar-subheading" v-if="field.label">{{ $trans(field.label) }}</h3>\n\n        <div class="uk-flex uk-flex-middle yo-style yo-margin-xsmall uk-visible-toggle">\n\n            <div class="yo-style-reset" v-show="isSet(field)" @click="reset(field)"></div>\n\n            <div class="uk-width-expand uk-text-truncate uk-text-capitalize">\n                <span :title="field.name" uk-tooltip="delay: 1000; pos: top-left">{{ field | label }}</span>\n                <span class="yo-style-label uk-invisible-hover" :title="$trans(\'Auto-calculated\')" uk-tooltip="delay: 1000" v-show="isComputed(field)">A</span>\n            </div>\n\n            <div class="uk-width-auto">\n                <component class="yo-style-form" :is="field.type" :field="field"></component>\n            </div>\n\n        </div>\n\n    </template>\n</div>\n\n'},332:function(e,t,n){var s,i,r={};s=n(333),Object.keys(s).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.warn("[vue-loader] vendor/yootheme/theme/modules/styler/app/components/fields-fonts.vue: named exports in *.vue files are ignored."),i=n(334),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(o.template=i),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})},333:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),r=s(i),o=n(24),a=s(o),u=n(3),l=s(u);t.default={name:"fonts-fields",extends:l.default.component("fields"),computed:{fonts:function(){return this.$styler.fonts},fields:function(){var e=this;return this.filterFields((0,r.default)(this.fonts.fonts,function(t,n){return{name:t.name,label:t.name+" Variants",description:n===e.fonts.length-1?e.$trans('Add a comma separated list of font weights to load, e.g. 300, 400, 600. Look up available variants at <a href="https://fonts.google.com" target="_blank">Google Fonts</a>.'):"",attrs:{placeholder:"400",lazy:!0}}}).concat({name:"subsets",label:this.$trans("Languages"),description:this.$trans('Add a comma separated list of font subsets to load, e.g. cyrillic, cyrillic-ext, greek, greek-ext, latin-ext, vietnamese. The Latin subset is always included. Look up available subsets at <a href="https://fonts.google.com" target="_blank">Google Fonts</a>.'),attrs:{placeholder:"latin",lazy:!0}}))}},methods:{getField:function(e){var t=e.name;return"subsets"===t?this.fonts.subsets:this.fonts.getVariants(t)},setField:function(e,t){var n=e.name;"subsets"===n?this.fonts.subsets="latin"!==t?t:"":this.fonts.setVariants(n,t)},isSet:function(e){var t=e.name;return"subsets"===t?this.fonts.subsets:this.getField({name:t})!==this.getStyleFontVariants(t)},reset:function(e){var t=e.name;this.setField({name:t},"subsets"===t?"":this.getStyleFontVariants(t))},getStyleFontVariants:function(e){return((0,a.default)(this.fonts.vars,{name:e})||{}).variants||""}}}},334:function(e,t){e.exports='\n\n<div class="yo-sidebar-fields">\n    <template v-for="field in fields">\n\n        <h3 class="yo-sidebar-subheading" v-if="field.label">{{ $trans(field.label) }}</h3>\n\n        <div class="uk-position-relative">\n\n            <div class="yo-style-reset" v-show="isSet(field)" @click="reset(field)"></div>\n\n            <component :is="field.type" :field="field"></component>\n\n        </div>\n\n        <p class="uk-text-muted uk-margin-small" v-if="field.description" v-html="$trans(field.description)"></p>\n\n    </template>\n</div>\n\n'},335:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(130),r=s(i),o=n(134),a=s(o),u=n(55),l=s(u),f=n(25),c=s(f),d=n(75),h=s(d),p=n(18),v=s(p),m=n(13),y=s(m),g=n(337),b=s(g),k=n(40),w=s(k),x=n(6),_=s(x),$=n(3),j=s($),M=n(129),O=n(9),F=n(339),E=s(F),C=n(344),S=s(C),T={ref:"$styler",name:"styler-model",data:function(){return{errors:[],values:{},styles:{},config:{},updatePending:!1,generalComponents:["global","theme","inverse"]}},created:function(){var e=this;this.initDataMapping(),this.startWorker(),this.$app.ignore.push("less","custom_less"),this.$watch("values.less",this.update,{deep:!0}),this.fonts=new j.default({extends:S.default}),this.config.update&&setTimeout(function(){e.update(),e.compile().then(function(t){var n=t.data;e.save({"css/theme.css":n.css,"css/theme.rtl.css":n.rtl}).then(function(){delete e.styles[n.style].css})},e.handleWorkerErrors)},150)},destroyed:function(){this.worker&&this.worker.terminate()},computed:{style:function(){return this.styles[this.values.style]},isStyle:function(){return(0,v.default)(this,"style.variables.@internal-style.value")},groups:function(){return(0,M.groupVars)(this.style.variables,this.config.groups)},filteredGroups:function(){var e=this;return(0,a.default)((0,l.default)(this.groups,function(t){return t.filter(function(t){var n=t.name;return!(0,M.match)(n,e.config.ignore)})}),function(e){return e.length})},components:function(){return(0,b.default)(Object.keys(this.filteredGroups),this.generalComponents)}},methods:{isCustomized:function(e){var t=this;return e?this.filteredGroups[e].some(function(e){return e.name in t.values.less||e.internal&&e.internal in t.values.less}):!(0,h.default)(this.values.less)},resetComponent:function(e){var t=this;this.filteredGroups[e].forEach(function(e){e.name in t.values.less&&j.default.delete(t.values.less,e.name),e.internal&&e.internal in t.values.less&&j.default.delete(t.values.less,e.internal)}),this.$trigger("setField",["less",this.values.less,this.values])},update:function(e){var t=this,n=function(){t.updatePending=!0,t.message("css",{input:t.values.custom_less,vars:t.values.less},e).then(function(e){var n=e.data;t.errors=[];var s=t.styles[n.style];s.css=n.css,s.variables=n.vars,s.fonts=n.fonts,s.rtl=n.rtl},function(e){t.handleWorkerErrors(e)}).then(function(){return t.updatePending=!1})};this.debouncedUpdate=this.debouncedUpdate||(0,w.default)(n,250),this.delayedUpdate=this.delayedUpdate||(0,w.default)(n,1),e?this.debouncedUpdate():this.delayedUpdate()},toLessString:function(){var e=this,t=(0,_.default)({},(0,l.default)((0,a.default)(this.style.variables,"style"),"value"),this.values.less),n=Object.keys(this.groups).reduce(function(n,s){if((0,r.default)(s,"_"))return n;var i=e.groups[s].reduce(function(e,n){var s=n.name;return s in t&&(e+=s+": "+t[s]+";\n",delete t[s]),e},"");return n+(i?"//\n// "+(0,O.classify)(s)+"\n//\n\n"+i+"\n":"")},""),s=Object.keys(t).reduce(function(e,n){return""+e+n+": "+t[n]+";\n"},"");return(s?s+"\n":"")+n},save:function(e){var t=new FormData;return t.append("files",new Blob([(0,O.b64Encode)(JSON.stringify(e))],{type:"text/plain"})),this.$http.post("theme/styles",t)},compile:function(){return this.message("compile",{input:this.values.custom_less,vars:this.values.less})},message:function(e,t){return this.worker.postMessage({cmd:e,data:(0,_.default)({style:this.style.id},t)})},handleWorkerErrors:function(e){Array.isArray(e)||(e=[e]),this.errors=e},reset:function(){this.setConfig("less",this.values.less={})},setConfig:function(e,t){this.$trigger("setField",[e,t,this.values])},startWorker:function(){var e=this;this.worker=new E.default(this.config),this.message("vars",{input:this.values.custom_less,vars:this.values.less}).then(function(t){var n=t.data,s=e.styles[n.style];s.variables=n.vars,s.fonts=n.fonts},this.handleWorkerErrors)},initDataMapping:function(){(0,h.default)(this.values.less)&&this.$set("values.less",{});var e=this.config.styles.reduce(function(e,t){return e[t.id]=(0,_.default)({variables:{},fonts:""},t),"styles"in t&&(0,y.default)(t.styles,function(n,s){e[t.id+":"+s]=(0,_.default)({variables:{},fonts:""},n,{id:t.id+":"+s,name:t.name+" - "+n.name})}),e},{});this.values.style in e||this.$set("values.style",this.config.styles[0].id),this.config.groups=(0,l.default)(this.config.groups,function(e){return(0,c.default)(e,function(e,t){return{group:e,name:t}})}),this.styles=e}},watch:{"values.style":function(e){this.update()},"values.custom_less":"update"},events:{saveConfig:function(){var e=this;return this.style.css?this.message("minify",{css:this.style.css}).then(function(t){var n=t.data,s=e.styles[n.style];return e.save({"css/theme.css":n.css,"css/theme.rtl.css":n.rtl}).then(function(){delete s.css})},this.handleWorkerErrors):Promise.resolve()}}};t.default=T},337:function(e,t,n){var s=n(338),i=n(80),r=n(67),o=n(100),a=r(function(e,t){return o(e)?s(e,i(t,1,o,!0)):[]});e.exports=a},338:function(e,t,n){function s(e,t,n,s){var c=-1,d=r,h=!0,p=e.length,v=[],m=t.length;if(!p)return v;n&&(t=a(t,u(n))),s?(d=o,h=!1):t.length>=f&&(d=l,h=!1,t=new i(t));e:for(;++c<p;){var y=e[c],g=null==n?y:n(y);if(y=s||0!==y?y:0,h&&g===g){for(var b=m;b--;)if(t[b]===g)continue e;v.push(y)}else d(t,g,s)||v.push(y)}return v}var i=n(68),r=n(125),o=n(126),a=n(29),u=n(34),l=n(69),f=200;e.exports=s},339:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=s(r),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=n(340),l=s(u),f=function(){function e(t){i(this,e),this.config=t,this.runningWorkers={},this.idleWorkers=[],this.sharedWorker,this.styleDataPromise=null}return a(e,[{key:"getAvailableWorker",value:function(e){return this.idleWorkers.pop()||new l.default(this.config.worker)}},{key:"postMessage",value:function(e){var t=this,n=e.cmd,s=e.data,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getStyles(s).then(function(e){if((0,o.default)(s,e),i){t.killWorker(n);return(t.runningWorkers[n]=t.getAvailableWorker(n)).postMessage({cmd:n,data:s}).then(function(e){return t.finishWorker(n),e},function(e){throw t.finishWorker(n),e})}return t.sharedWorker||(t.sharedWorker=new l.default(t.config.worker)),t.sharedWorker.postMessage({cmd:n,data:s})})}},{key:"finishWorker",value:function(e){var t=this.runningWorkers[e];t&&(this.idleWorkers.push(t),delete this.runningWorkers[e])}},{key:"killWorker",value:function(e){var t=this.runningWorkers[e];t&&(t.terminate(),delete this.runningWorkers[e])}},{key:"terminate",value:function(){var e=this;Object.keys(this.runningWorkers).forEach(function(t){return e.killWorker(t)}),this.idleWorkers.forEach(function(e){return e.terminate()})}},{key:"getStyles",value:function(e){var t=this,n=e.style;e.route;return n=n.split(":")[0],this.style===n&&this.styleDataPromise||(this.style=n,this.styleDataPromise=new Promise(function(e,s){Vue.http.get(t.config.route+"&id="+n).then(function(t){200!==t.status&&s(t.status);var n=t.body,i=n.styles;for(var r in i)i[r].id=r,i[r].filepath=i[r].filename.replace(/\/[^\/]*\/?$/,"/");var o={styles:i,imports:n.imports};e(o)})})),this.styleDataPromise}}]),e}();t.default=f},340:function(e,t,n){"use strict";function s(e){try{return JSON.parse(e)}catch(e){return!1}}function i(e,t){var n=s(t.data);if(n){var i=n[0],r=n[1],o=n[2],a=e._callbacks[i];a&&(delete e._callbacks[i],a(r,o))}}function r(e){var t=this;t._worker="string"==typeof e?new Worker(e):e,t._callbacks={},t._worker.addEventListener("message",function(e){i(t,e)})}var o="undefined"!=typeof Promise?Promise:n(341),a=0;r.prototype.terminate=function(){this._worker.terminate()},r.prototype.postMessage=function(e){var t=this,n=a++,s=[n,e];return new o(function(e,r){t._callbacks[n]=function(t,n){t?r(t):e(n)};var o=JSON.stringify(s);if(void 0!==t._worker.controller){var a=new MessageChannel;a.port1.onmessage=function(e){i(t,e)},t._worker.controller.postMessage(o,[a.port2])}else t._worker.postMessage(o)})},e.exports=r},341:function(e,t,n){(function(t){!function(n){function s(){}function i(e,t){return function(){e.apply(t,arguments)}}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:u)(t.promise,e._value);var s;try{s=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,s)})}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var d=setTimeout;r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(s);return o(this,new f(e,t,n)),n},r.all=function(e){return new r(function(t,n){function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(t){s(e,t)},n)}i[e]=o,0==--r&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var r=i.length,o=0;o<i.length;o++)s(o,i[o])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var s=0,i=e.length;s<i;s++)e[s].then(t,n)})},r._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=r:n.Promise||(n.Promise=r)}(this)}).call(t,n(342).setImmediate)},342:function(e,t,n){(function(e){function s(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(343),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(57))},343:function(e,t,n){(function(e,t){!function(e,n){"use strict";function s(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return l[u]=s,a(u),u++}function i(e){delete l[e]}function r(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(n,s)}}function o(e){if(f)setTimeout(o,0,e);else{var t=l[e];if(t){f=!0;try{r(t)}finally{i(e),f=!1}}}}if(!e.setImmediate){var a,u=1,l={},f=!1,c=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},a=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;a=function(t){var n=c.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){a=function(e){setTimeout(o,0,e)}}(),d.setImmediate=s,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(57),n(85))},344:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.map(function(e){return e.name.replace(/ /g,"+")+(e.variants?":"+e.variants.replace(/ /g,""):"")}).join("|").concat(t?"&subset="+t:"")}function r(e){return(0,v.default)(e?e.split("&subset=")[0].split("|").map(function(e){var t=e.split(":"),n=M(t,2),s=n[0],i=n[1],r=void 0===i?"":i;return{name:s.replace(/\+/g," "),variants:r}}):[],"name")}function o(e){return(0,c.default)((0,w.default)(e,function(e,t){return(0,_.default)(t,"-font-family")&&~E.indexOf((0,h.default)(e.value||e,"'"))}).map(function(e){return(0,h.default)(e.value||e,"'")}))}function a(e){return e&&e.split("&subset=")[1]||""}function u(e,t){var n,s=r((0,h.default)(e.value,"'"));return t.forEach(function(e){n=(0,b.default)(s,{name:e.name}),n?(n.variants=l([n.variants,e.variants]),n.subsets=l([n.subsets,e.subsets])):s.push(e)}),i(s,l(s.map(function(e){return e.subsets})))}function l(e){return(0,c.default)((0,w.default)(e.join(",").replace(/ /g,"").split(","))).sort().join(",")}Object.defineProperty(t,"__esModule",{value:!0});var f=n(124),c=s(f),d=n(345),h=s(d),p=n(79),v=s(p),m=n(353),y=s(m),g=n(24),b=s(g),k=n(31),w=s(k),x=n(354),_=s(x),$=n(6),j=s($),M=function(){function e(e,t){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{!s&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=n(120),F=s(O),E=F.default[1].fonts;t.default={name:"style-fonts",data:function(){return{changes:[],changed:!1}},computed:{style:function(){return this.$styler.style},values:function(){return this.$styler.values},vars:function(){return r((0,h.default)(this.style.fonts,"'\"~"))},styleFont:function(){return i(this.vars)},internal:{get:function(){return"@internal-fonts"in this.values.less?(0,h.default)(this.values.less["@internal-fonts"],"'\"~"):this.styleFont},set:function(e){var t=(0,h.default)(this.values.less["@internal-fonts"],"'\"~");!t||e&&e!==this.styleFont?e&&e!==t&&e!==this.styleFont&&(Vue.set(this.values.less,"@internal-fonts","~'"+e+"'"),this.updateConfig()):(Vue.delete(this.values.less,"@internal-fonts"),this.updateConfig())}},fonts:function(){var e=this;this.values.fonts&&this.style.variables["@internal-fonts"]&&(this.internal=u(this.style.variables["@internal-fonts"],this.values.fonts),delete this.values.fonts);var t,n=r(this.internal);if(this.changed){var s=((0,y.default)(this.changes,{id:this.style.id})||this.changes[this.changes.length-1]).fonts;t=a(s),r(s).forEach(function(e){(0,b.default)(n,{name:e.name})||n.push(e)})}var l=o(this.style.variables).sort().map(function(t){return(0,j.default)((0,b.default)(n,{name:t})||{name:t,variants:((0,b.default)(e.vars,{name:t})||{}).variants||""})});return this.changed&&(this.internal=i(l,t),this.changed=!1),this.internal=i(l,this.subsets),l},subsets:{get:function(){return a(this.internal)},set:function(e){e=e.replace(/ /g,""),this.internal=this.internal.split("&subset=")[0]+(e?"&subset="+e:"")}},length:function(){return this.fonts.length}},methods:{getVariants:function(e){return((0,b.default)(this.fonts,{name:e})||{}).variants||""},setVariants:function(e,t){var n=(0,b.default)(this.fonts,{name:e});n&&(n.variants=t,this.internal=i(this.fonts,this.subsets))},updateConfig:function(){this.$styler.setConfig("less",this.values.less)}},watch:{"values.style":function(e,t){this.changes.push({id:t,fonts:this.internal}),this.internal=!1,this.changed=!0}}}},345:function(e,t,n){function s(e,t,n){if((e=l(e))&&(n||void 0===t))return e.replace(f,"");if(!e||!(t=i(t)))return e;var s=u(e),c=u(t),d=a(s,c),h=o(s,c)+1;return r(s,d,h).join("")}var i=n(53),r=n(346),o=n(347),a=n(348),u=n(349),l=n(52),f=/^\s+|\s+$/g;e.exports=s},346:function(e,t,n){function s(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:i(e,t,n)}var i=n(137);e.exports=s},347:function(e,t,n){function s(e,t){for(var n=e.length;n--&&i(t,e[n],0)>-1;);return n}var i=n(78);e.exports=s},348:function(e,t,n){function s(e,t){for(var n=-1,s=e.length;++n<s&&i(t,e[n],0)>-1;);return n}var i=n(78);e.exports=s},349:function(e,t,n){function s(e){return r(e)?o(e):i(e)}var i=n(350),r=n(351),o=n(352);e.exports=s},350:function(e,t){function n(e){return e.split("")}e.exports=n},351:function(e,t){function n(e){return s.test(e)}var s=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},352:function(e,t){function n(e){return e.match(c)||[]}var s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",r,o].join("|")+")[\\ufe0e\\ufe0f]?"+a+")*",l="[\\ufe0e\\ufe0f]?"+a+u,f="(?:"+["[^\\ud800-\\udfff]"+s+"?",s,r,o,"[\\ud800-\\udfff]"].join("|")+")",c=RegExp(i+"(?="+i+")|"+f+l,"g");e.exports=n},353:function(e,t,n){var s=n(117),i=n(133),r=s(i);e.exports=r},354:function(e,t,n){function s(e,t,n){e=a(e),t=r(t);var s=e.length;n=void 0===n?s:i(o(n),0,s);var u=n;return(n-=t.length)>=0&&e.slice(n,u)==t}var i=n(131),r=n(53),o=n(54),a=n(52);e.exports=s},355:function(e,t){e.exports='\n\n<div>\n\n    <div class="yo-sidebar-fields">\n\n        <div class="uk-margin-small">\n            <div tabindex="1" class="uk-select" @keyup.enter="openStyle()" @click="openStyle()">{{ styler.style.name }}</div>\n        </div>\n\n        <div>\n            <label><input :disabled="styler.updatePending" class="uk-checkbox" type="checkbox" v-model="tests.uikit"> {{ $trans(\'Preview all UI components\') }}</label>\n        </div>\n\n    </div>\n\n    <p class="uk-text-danger" v-show="error" v-html="$trans(\'Error: %error%\', {error: error})"></p>\n\n    <h3 class="yo-sidebar-subheading" v-if="styler.components.length">{{ $trans(\'General\') }}</h3>\n\n    <ul class="uk-nav uk-nav-default yo-sidebar-marginless uk-text-capitalize yo-nav-iconnav" v-if="styler.components.length">\n        <li v-for="name in generalComponents" @mouseenter="inspector.hover($event, name)">\n            <a href="" @click.prevent="openComponent(name)">{{ $trans(name) }}</a>\n            <div class="yo-style-reset" v-show="styler.isCustomized(name)" @click="styler.resetComponent(name)"></div>\n        </li>\n        <li v-if="styler.fonts.length">\n            <a href="" @click.prevent="openFonts()">{{ $trans(\'Google Fonts\') }}</a>\n        </li>\n    </ul>\n\n    <h3 class="yo-sidebar-subheading">{{ $trans(\'Components\') }}</h3>\n\n    <ul class="uk-nav uk-nav-default yo-sidebar-marginless uk-text-capitalize yo-nav-iconnav">\n        <li v-for="name in styler.components" @mouseenter="inspector.hover($event, name)">\n            <a href="" @click.prevent="openComponent(name)">{{ $trans(name) }}</a>\n            <div class="yo-style-reset" v-show="styler.isCustomized(name)" @click="styler.resetComponent(name)"></div>\n        </li>\n    </ul>\n\n    <button class="uk-button uk-button-default uk-width-1-1 uk-margin-top" :disabled="!styler.isCustomized()" @click.prevent="styler.reset" v-confirm="\'Are you sure?\'">{{ $trans(\'Reset to defaults\') }}</button>\n\n    <a class="uk-button uk-button-default uk-width-1-1 uk-margin-top" download="style.less" @click="download" v-if="styler.isCustomized() || styler.isStyle">{{ $trans(\'Export variables\') }}</a>\n\n    <button class="uk-button uk-button-default uk-width-1-1 uk-margin-top" disabled v-else>{{ $trans(\'Export variables\') }}</button>\n\n</div>\n\n'},78:function(e,t,n){function s(e,t,n){return t===t?o(e,t,n):i(e,r,n)}var i=n(74),r=n(313),o=n(314);e.exports=s}},[305]);